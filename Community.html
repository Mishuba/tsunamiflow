<!DOCTYPE html>
<html lang="en">
<head>
    <title>Chroma Key Canvas</title>
        <meta charset="utf-8" />
    <meta name="viewpoint" width="device-width" height="device-height" initial-scale="1" minimum-scale="0.1" user-scalable="1" interactive-widget="resizes-content" />
    <meta name="author" content="Hubert Christopher Maxwell" />
    <meta name="keyword" content="mishuba, challenges, business, music, property, rap, pop, rock, news, thoughts, clothes, shoes, games, shows, movies, books, love, inspiration, information, research" />
    <meta name="description" content="Tsunami Flow is the homebase for turning your dreams to goals and mastering your life." />
    <style>
        body {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        #TFcanvas {
            border: 1px solid black;
        }
        #TsunamiFlowVideoStuff {
            display: none; /* Hide the video element */
        }
        #TFchromaKey {
            margin-top: 10px;
        }
        .button {
            display: block;
            margin: 10px 0;
        }
    </style>
</head>
<body>

    <h1>Chroma Key Canvas</h1>
    <label for="chromaColorWebcam">Choose Chroma Key Color for Webcam:</label>
    <input type="color" id="TFchromaKey" value="#00ff00">
    <button id="TuseFthisKeycolor">Use Webcam Chroma Key Color</button>

    <button id="rmvTFchromakey">Remove Chroma Key Color</button>

    <button id="TfStartRecPlz">Start Recording</button>
    <button id="TfStopRecPlz">Stop Recording</button>

    <video id="TsunamiFlowVideoStuff" width="640" height="480" autoplay></video>
    <canvas id="TFcanvas" width="640" height="480"></canvas>
    <button id="TfControlShit">Control I Guess.</button>
    <button id="TfStartShit">Start</button>
    <button id="TfStopShit">Stop</button>

    <input type="file" id="TFuploadImage" accept="image/*">
    <button id="rmvTFimg" style="display:none;">Remove Image</button>

    <input type="file" id="TFuploadVideo" accept="video/*">
    <button id="rmvTFvid" style="display:none;">Remove Video</button>
    <script type="module" crossorigin="anonymous">
import { TfWebsocket } from "./TfWebSocket.js";
import { TfEffects } from "./../WebWorker/Effects.js";
import { User } from "./Users.js";
import { TfMusic } from "./Audio.js";
import { TfVideo } from "./Video.js";
import { tfIframe } from "./TfIframe.js";
import { FirstGame } from "./sprite.js";
import { WorkerManager } from "./../WebWorker/workers.js";
import { MishubaController } from "./default.js";


        let TFpostMessageLinks = "https://tsunamiflow.club"; //
        let TfPostMessageLink = "https://www.tsunamiflow.club"; 


        let TFpostActualObject = {
            type: "Website Updates",
            info: "this is the array stuff",
            message: "make this the first character maybe.",
            username: "Mishuba",
            error: "currently no error fam."
        };

 window.parent.postMessage(TFpostActualObject, TFpostMessageLinks);

        window.addEventListener("message", async (ev) => {
            console.log("homepage iframe message received");
            console.log(ev.origin);
            let data = ev.data;
            let origin = ev.origin;
            let source = ev.source;

            if (origin === "https://www.tsunamiflow.club" || origin === "https://tsunamiflow.club") {
                console.log(data.info);
                console.log(data);

                if (data.type === "start_updates") {
                    const game = MishubaController.fromJson(ev.data.info);
                    //game.start();

                    /*TFpostActualObject = {
                        type: "updates",
                        info: game.toJSON(),
                        message: "the message should be showing.",
                        username: "Mishuba",
                        error: "Nothing as of now."
                    }
                    window.parent.postMessage(TFpostActualObject,TFpostMessageLinks);
*/
                } else if (data.type === "game") {

                } else {

                }
            } else if (ev.origin === "https://js.stripe.com") {
                console.log(ev.data);
                console.log(ev.source);
            } else {
                return console.log(`Some outside source is trying to send my homepage a message.`);
            }
        });
*/
    </script>
</body>
</html>